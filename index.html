<!DOCTYPE html>
<html lang="en" ondragstart="retuan false"> <!-- 静止页面所有内容发生拖拽-->
<head>
	<meta charset="UTF-8">
	<title>3D旋转相册</title>
	<style type="text/css">
	*{margin: 0px;padding: 0px;}
	body{background-color: #000;}
	#perspective{
		perspective:800px;/*景深，物体在空间与浏览器之间的距离，影响所有子级，具有透视效果*/
	}
	#wrap{
		position: relative;
		width: 133px;
		height: 200px;
		margin: 200px auto 0;
		border: 1px solid red;
		transform-style: preserve-3d;/*指定这元素的子元素是怎样在3D空间内呈现*/
		
		transform: rotateX(-20deg);
	}
	#wrap img{	
		position: absolute;
		transform: rotateY(0deg);/*位移*/
		transition: 1s;/*过渡*/
	}
	</style>
</head>
<body>
	<div id="perspective">
		<div id="wrap">
			<img src="images/1.jpg" alt="">
			<img src="images/2.jpg" alt="">
			<img src="images/3.jpg" alt="">
			<img src="images/4.jpg" alt="">
			<img src="images/5.jpg" alt="">
			<img src="images/6.jpg" alt="">
			<img src="images/7.jpg" alt="">
			<img src="images/8.jpg" alt="">
			<img src="images/9.jpg" alt="">
			<img src="images/10.jpg" alt="">
			<img src="images/11.jpg" alt="">
		</div>
	</div>
	
	<script type="text/javascript">
		var oIng = document.getElementsByTagName("img"), // 获得img
			len = oIng.length,	//得到img的张数
		 	deg = 360 / len;
		
		window.onload = function() {
			for (var i = 0; i < len; i++) {
			oIng[i].style.transform = "rotateY("+ i * deg +"deg)translateZ(350px)";
			oIng[i].style.transitionDelay = (len - i)*0.1 + "s";
			}
		}

		var rotateX = -20,
			rotateY = 0;
				//鼠标按下事件
		document.onmousedown = function(e){
			//鼠标移动事件
			var oldX = e.clientX,
				oldY = e.clientY;
			this.onmousemove = function(e){
				var newX = e.clientX,
					newY = e.clientY;

				var miunsX = newX - oldX,	
					miunsY = newY - oldY;

				rotateX -= miunsY*0.1;
				rotateY += miunsX*0.2;

				wrap.style.transform = "rotateX("+rotateX+"deg)rotateY("+rotateY+"deg)";

				oldX = newX;
				oldY = newY;
			}
			//鼠标松开事件
			this.onmouseup = function(){
				console.log("松开");
				this.onmousemove = null;//清空事件内容
				this.onmouseup = null;
			}
		}
		
	</script>
</body>
</html>